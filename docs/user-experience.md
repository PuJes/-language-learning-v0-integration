# 用户体验与路径说明

Language World 为不同动机的学习者提供多条可回环的体验路径。下文梳理四条核心路径，逐页说明跳转方式、状态流转与关键交互，帮助你在设计或调试时快速定位用户所处阶段。

## 路径总览
1. **个性化推荐路径**：从首页 CTA 进入问卷，生成推荐结果，再深入语言详情。
2. **文化内容探索路径**：从首页或顶栏进入文化文章，阅读后跳转至对应语言或继续探索其他文章。
3. **语言目录浏览路径**：直接查看语言列表，使用筛选条件找到感兴趣的语言并访问详情页。
4. **回访 / 重测路径**：在推荐页或导航中重新发起测评，覆盖旧数据并获得最新推荐。

每条路径既可以从导航栏任意入口开始，也可以通过页面内 CTA 相互串联，最终都能落到语言详情页或文化文章等深度内容。

---

## 1. 个性化推荐路径
**目标**：帮助首次访问者通过问卷获得量身定制的语言推荐。

1. **首页 `/`**  
   - 用户看到「开始个性化测评」等按钮（CTA 按钮指向 `/survey`）。  
   - 头部导航中的「语言推荐」也会跳转到同一路径。
2. **问卷页面 `/survey`**  
   - `LanguageSurveyPage` 组件托管多步骤问卷，单选题自动跳转下一题，多选题需点击继续。  
   - 完成后点击「查看推荐」：  
     - 将 `surveyData` 写入 `localStorage`。  
     - 通过 `window.location.href = '/recommendation'` 跳转（后续建议改为 Next.js Router）。
3. **推荐页面 `/recommendation`**  
   - 首次加载读取 `localStorage.surveyData`，调用 `getLanguageRecommendations` 生成列表。  
   - 用户可在左侧选择不同语言查看详细推荐卡片。  
   - 关键跳转入口：  
     - 「开始学习」按钮 → `/languages/[id]` 语言详情。  
     - 「重新测评」按钮 → 清除 `surveyData` 并回到 `/survey`。  
     - 顶部面包屑/按钮 → 回到 `/`。
4. **语言详情 `/languages/[id]`**  
   - 显示综合信息、文化背景、学习指导等。  
   - 页面内 CTA 可引导用户前往 `/culture/[slug]` 阅读相关文章或返回 `/languages` 列表继续查看其他语言。

> **状态流**：问卷结果完全存在本地浏览器；若用户清理缓存或换设备，需要重新测评。重测会覆盖旧的 `surveyData`。

---

## 2. 文化内容探索路径
**目标**：依赖文化故事吸引用户了解语言背景，并引导其进入学习路径。

1. **入口**  
   - 首页「精选文化」板块的卡片按钮 → `/culture`。  
   - 头部导航的「文化探索」链接 → `/culture`。  
   - 语言详情页中的 `RelatedArticles` 也可能直接带到某篇文章。
2. **文化列表 `/culture`**  
   - 用户通过地区、主题、关联语言下拉框筛选文章。  
   - 点击任意卡片跳转至 `/culture/[slug]`。
3. **文化文章 `/culture/[slug]`**  
   - 顶部面包屑支持返回首页或文化列表。  
   - 页面包含：文章正文（ReactMarkdown）、目录组件、相关推荐、语言 CTA。  
   - CTA 行为：
     - `LanguageLearningCTA` → `/languages/[id]`，鼓励学习相关语言。  
     - `RelatedArticles` → 继续浏览其他文化文章。  
     - 移动端/桌面端目录可快速滚动文章内部。
4. **语言详情 `/languages/[id]`**（可选）  
   - 读者若对文章关联语言感兴趣，可直接跳转到详情继续了解学习路径。  
   - 详情页再次提供返回文化内容或开启问卷的机会。

> **状态流**：文化路径不会写入本地存储，仅依赖 URL 和组件内状态（筛选条件、目录高亮等）。

---

## 3. 语言目录浏览路径
**目标**：面向已有学习意向的用户，快速检索语言信息。

1. **入口**  
   - 首页「查看全部语言」按钮 → `/languages`。  
   - 头部导航的「语言列表」链接。  
   - 推荐页或文化文章内的链接也可能指向具体语言详情。
2. **语言列表 `/languages`**  
   - 支持搜索关键字、按地区/语系/难度筛选及排序。  
   - 列表呈现本地化后的语言名称、难度星级、简介等。  
   - 用户可标记收藏（保存在组件的 `useState` 中）。
   - 点击卡片或「查看详情」链接跳转至 `/languages/[id]`。
3. **语言详情 `/languages/[id]`**  
   - Tab 切分为概览、文化、学习指南、资源。  
   - 提供 CTA 指向：
     - `/culture/[slug]` 相关文化故事。  
     - `/survey` 进行测评（顶部导航可直接点击）。  
     - `/recommendation` 查看上一轮推荐（如果已测评且未清除数据）。

> **状态流**：筛选条件和收藏列表只在组件内部维护，刷新页面会重置；可根据需求扩展为持久化方案。

---

## 4. 回访 / 重测路径
**目标**：支持用户根据最新需求更新推荐结果。

1. **推荐页 `/recommendation`**  
   - 提供「重新测评」按钮，执行以下流程：  
     - `localStorage.removeItem('surveyData')`  
     - 跳转回 `/survey`。
2. **问卷页面 `/survey`**  
   - 重新完成问卷后写入新的 `surveyData` 并返回 `/recommendation`。  
   - 若用户中途关闭页面，下次访问推荐页因缺少数据会提示重新测评。
3. **其他入口**  
   - 头部导航始终显示「语言推荐」/「测评」等链接，用户可随时开始新测评。  
   - 语言详情或文化文章中的 CTA 也可能引导用户返回问卷。

> **状态流**：每次重测都会覆盖旧的 `surveyData`，保证推荐结果与最新回答一致。

---

## 页面间通用跳转
- **头部导航**：任意页面可直达首页、语言列表、文化中心、问卷或推荐页。
- **脚部链接**：为尚未上线的板块提供 `/coming-soon` 占位，保持导航一致性。
- **面包屑**：文化文章页提供返回文化列表与首页的面包屑，减少迷路风险。
- **CTA 组件**：语言详情与文化文章之间的 CTA 互相导流，确保学习动机与文化兴趣能够相互强化。

通过以上路径设计，项目既支持快速获取个性化推荐，也允许用户从文化故事或语言数据出发自由探索，最终都能回到语言学习的主线体验。
